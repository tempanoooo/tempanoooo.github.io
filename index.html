<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tienda Elden Ring</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
  
  <style>
    :root {
      --gold-old: #b8860b;
      --bg-primary: #0b0b0b;
      --bg-secondary: #111111;
      --bg-nav: #000000;
      --text-primary: #e5e7eb;
      --text-secondary: #9ca3af;
      --border-primary: #422006;
      --border-secondary: #713f12;
      --hover-bg: #452a0d;
    }
    
    .light-mode {
      --gold-old: #855d00; 
      --bg-primary: #f4f1ea;
      --bg-secondary: #e9e4d9;
      --bg-nav: #dfd9c8;
      --text-primary: #1a160d;
      --text-secondary: #453e2d;
      --border-primary: #d4cfbc;
      --border-secondary: #b8860b;
      --hover-bg: #dcd7c0;
    }

    body {
      font-family: 'Cinzel', serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      transition: background-color 0.3s, color 0.3s;
    }
    
    iframe {
      border: none;
      width: 100%;
      height: 85vh;
      background-color: var(--bg-primary);
    }
  </style>
</head>
<body class="text-[var(--text-primary)]">

  <header class="flex flex-col md:flex-row justify-between items-center border-b border-[var(--border-secondary)] bg-[var(--bg-nav)]/90 px-6 py-4">
    <div class="flex items-center space-x-4">
      <a href="index.html">
        <h2 class="text-3xl font-bold text-[var(--gold-old)]">Elden Ring</h2>
      </a>
    </div>
    
    <div class="text-center md:text-right mt-4 md:mt-0">
      <div class="flex justify-center md:justify-end items-center space-x-4 md:space-x-6 mb-2">
        <a href="contacto.html" target="contenido" data-i18n="contact" class="text-[var(--gold-old)] hover:underline font-bold">Contáctanos</a>
        <button id="openLoginModal" data-i18n="btn_login" class="px-4 py-2 bg-[var(--gold-old)] text-black font-bold hover:bg-yellow-600 rounded-sm text-sm shadow-md transition-colors">
          Iniciar Sesión
        </button>
        <button id="langToggleBtn" class="text-[var(--gold-old)] border border-[var(--gold-old)] px-2 py-1 rounded text-xs font-bold hover:bg-[var(--gold-old)] hover:text-black transition-all">
          EN / ES
        </button>
        <button id="themeToggleBtn" class="text-[var(--gold-old)] hover:text-yellow-500 text-xl">
          <i id="sunIcon" class="fas fa-sun hidden"></i>
          <i id="moonIcon" class="fas fa-moon"></i>
        </button>
      </div>
      
      <div class="flex items-center justify-center md:justify-end space-x-4">
        <a href="#" class="text-[var(--gold-old)] hover:text-yellow-500 text-xl"><i class="fab fa-whatsapp"></i></a>
        <a href="#" class="text-[var(--gold-old)] hover:text-yellow-500 text-xl"><i class="fab fa-discord"></i></a>
        <a href="#" class="text-[var(--gold-old)] hover:text-yellow-500 text-xl"><i class="fab fa-reddit"></i></a>
      </div>
    </div>
  </header>

  <nav class="bg-[var(--bg-secondary)] border-y border-[var(--border-primary)] text-center">
    <a href="productos.html" target="contenido" data-i18n="nav_products" class="inline-block px-4 py-3 hover:bg-[var(--hover-bg)] text-[var(--gold-old)] font-bold">Productos</a>
    <a href="ofertas.html" target="contenido" data-i18n="nav_offers" class="inline-block px-4 py-3 hover:bg-[var(--hover-bg)] text-[var(--gold-old)] font-bold">Ofertas</a>
    <a href="merch.html" target="contenido" data-i18n="nav_merch" class="inline-block px-4 py-3 hover:bg-[var(--hover-bg)] text-[var(--gold-old)] font-bold">Merchandising</a>
    <a href="historia.html" target="contenido" data-i18n="nav_lore" class="inline-block px-4 py-3 hover:bg-[var(--hover-bg)] text-[var(--gold-old)] font-bold">Historia</a>
  </nav>

  <main class="w-full">
    <iframe src="default.html" name="contenido" id="mainIframe" onload="sendStateToIframe()"></iframe>
  </main>

  <footer class="bg-[var(--bg-nav)]/90 border-t border-[var(--border-primary)] py-6 text-center">
    <p class="text-[var(--text-secondary)] text-sm" data-i18n="footer_copy">&copy; 2025 Tienda Elden Ring - Fan Page</p>
    <div class="mt-2 flex justify-center space-x-6">
      <a href="#" class="text-[var(--border-secondary)] hover:text-[var(--gold-old)]"><i class="fab fa-facebook fa-lg"></i></a>
      <a href="#" class="text-[var(--border-secondary)] hover:text-[var(--gold-old)]"><i class="fab fa-twitter fa-lg"></i></a>
      <a href="#" class="text-[var(--border-secondary)] hover:text-[var(--gold-old)]"><i class="fab fa-instagram fa-lg"></i></a>
    </div>
  </footer>

  <div id="loginModal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4">
    <div class="relative max-w-lg w-full bg-[var(--bg-secondary)] border border-[var(--border-primary)] p-8 rounded-lg shadow-lg">
      <button id="closeLoginModal" class="absolute top-4 right-4 text-[var(--text-secondary)] hover:text-[var(--text-primary)] text-3xl">&times;</button>
      <h2 id="modalTitle" data-i18n="modal_title_login" class="text-3xl font-bold text-center text-[var(--gold-old)] mb-8">Unirse a la Mesa Redonda</h2>
      
      <div id="socialButtons" class="space-y-4">
        <button class="w-full flex items-center justify-center py-3 px-4 bg-red-600 hover:bg-red-700 rounded-md text-white font-semibold transition-colors"><i class="fab fa-google fa-lg mr-3"></i> Google</button>
        <button class="w-full flex items-center justify-center py-3 px-4 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-semibold transition-colors"><i class="fab fa-facebook fa-lg mr-3"></i> Facebook</button>
        <button class="w-full flex items-center justify-center py-3 px-4 bg-gray-700 hover:bg-gray-800 rounded-md text-white font-semibold transition-colors"><i class="fab fa-steam fa-lg mr-3"></i> Steam</button>
      </div>

      <div id="loginSeparator" class="flex items-center my-8"><hr class="flex-grow border-[var(--border-primary)]"><span class="px-4 text-[var(--text-secondary)] text-sm" data-i18n="modal_or">O INGRESA</span><hr class="flex-grow border-[var(--border-primary)]"></div>

      <form id="loginForm">
        <div class="mb-4">
          <label data-i18n="label_email" class="block text-sm text-[var(--text-secondary)] mb-2">Email (Sinluz)</label>
          <input type="email" class="w-full p-3 bg-gray-900 border border-gray-700 rounded-md text-white focus:border-[var(--gold-old)] outline-none" placeholder="tarnished@tierrasintermedias.com">
        </div>
        <div class="mb-6">
          <label data-i18n="label_pass" class="block text-sm text-[var(--text-secondary)] mb-2">Contraseña (Runa)</label>
          <input type="password" class="w-full p-3 bg-gray-900 border border-gray-700 rounded-md text-white focus:border-[var(--gold-old)] outline-none" placeholder="••••••••">
        </div>
        <button type="submit" data-i18n="btn_enter" class="w-full py-3 px-4 bg-[var(--gold-old)] text-black font-bold hover:bg-yellow-600 rounded-md">Ingresar</button>
        <p class="text-center text-[var(--text-secondary)] text-sm mt-6"><span data-i18n="new_user">¿Nuevo Sinluz?</span> <a href="#" id="showRegister" class="text-[var(--gold-old)] hover:underline" data-i18n="create_account">Crea una cuenta</a></p>
      </form>

      <form id="registerForm" class="hidden">
        <div class="mb-4"><label data-i18n="label_email" class="block text-sm text-[var(--text-secondary)] mb-2">Email (Sinluz)</label><input type="email" class="w-full p-3 bg-gray-900 border border-gray-700 rounded-md text-white focus:border-[var(--gold-old)] outline-none"></div>
        <div class="mb-4"><label data-i18n="label_pass" class="block text-sm text-[var(--text-secondary)] mb-2">Contraseña (Runa)</label><input type="password" class="w-full p-3 bg-gray-900 border border-gray-700 rounded-md text-white focus:border-[var(--gold-old)] outline-none"></div>
        <div class="mb-6"><label data-i18n="label_pass_conf" class="block text-sm text-[var(--text-secondary)] mb-2">Confirmar Contraseña</label><input type="password" class="w-full p-3 bg-gray-900 border border-gray-700 rounded-md text-white focus:border-[var(--gold-old)] outline-none"></div>
        <button type="submit" data-i18n="btn_register" class="w-full py-3 px-4 bg-[var(--gold-old)] text-black font-bold hover:bg-yellow-600 rounded-md">Registrarse</button>
        <p class="text-center text-[var(--text-secondary)] text-sm mt-6"><span data-i18n="have_account">¿Ya tienes cuenta?</span> <a href="#" id="showLogin" class="text-[var(--gold-old)] hover:underline" data-i18n="btn_login">Inicia Sesión</a></p>
      </form>
    </div>
  </div>

  <script>
    const translations = {
      es: {
        contact: "Contáctanos", btn_login: "Iniciar Sesión", nav_products: "Productos", nav_offers: "Ofertas", nav_merch: "Merchandising", nav_lore: "Historia",
        footer_copy: "© 2025 Tienda Elden Ring - Fan Page", modal_title_login: "Unirse a la Mesa Redonda", modal_title_reg: "Crear Cuenta",
        modal_or: "O INGRESA", label_email: "Email (Sinluz)", label_pass: "Contraseña (Runa)", label_pass_conf: "Confirmar Contraseña",
        btn_enter: "Ingresar", btn_register: "Registrarse", new_user: "¿Nuevo Sinluz?", create_account: "Crea una cuenta", have_account: "¿Ya tienes cuenta?"
      },
      en: {
        contact: "Contact Us", btn_login: "Log In", nav_products: "Products", nav_offers: "Deals", nav_merch: "Merchandise", nav_lore: "Lore",
        footer_copy: "© 2025 Elden Ring Store - Fan Page", modal_title_login: "Join the Round Table", modal_title_reg: "Create Account",
        modal_or: "OR ENTER", label_email: "Email (Tarnished)", label_pass: "Password (Rune)", label_pass_conf: "Confirm Password",
        btn_enter: "Login", btn_register: "Sign Up", new_user: "New Tarnished?", create_account: "Create account", have_account: "Already have account?"
      }
    };

    let currentLang = localStorage.getItem('lang') || 'es';
    let esModoLuminoso = localStorage.getItem('theme') === 'light';

    function applyTranslations() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[currentLang][key]) el.textContent = translations[currentLang][key];
      });
    }

    function sendStateToIframe() {
      const iframe = document.getElementById('mainIframe');
      if (iframe && iframe.contentWindow) {
        iframe.contentWindow.postMessage({ theme: esModoLuminoso ? 'light' : 'dark', lang: currentLang }, '*');
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Modal Logic
      const loginModal = document.getElementById('loginModal');
      const loginForm = document.getElementById('loginForm');
      const registerForm = document.getElementById('registerForm');
      const modalTitle = document.getElementById('modalTitle');
      const loginSeparator = document.getElementById('loginSeparator');
      const socialButtons = document.getElementById('socialButtons');

      document.getElementById('openLoginModal').addEventListener('click', () => {
        loginForm.classList.remove('hidden'); registerForm.classList.add('hidden');
        loginSeparator.classList.remove('hidden'); socialButtons.classList.remove('hidden');
        modalTitle.textContent = translations[currentLang].modal_title_login;
        loginModal.classList.remove('hidden');
      });
      document.getElementById('closeLoginModal').addEventListener('click', () => loginModal.classList.add('hidden'));
      document.getElementById('showRegister').addEventListener('click', (e) => {
        e.preventDefault(); loginForm.classList.add('hidden'); registerForm.classList.remove('hidden');
        loginSeparator.classList.add('hidden'); socialButtons.classList.add('hidden');
        modalTitle.textContent = translations[currentLang].modal_title_reg;
      });
      document.getElementById('showLogin').addEventListener('click', (e) => {
        e.preventDefault(); registerForm.classList.add('hidden'); loginForm.classList.remove('hidden');
        loginSeparator.classList.remove('hidden'); socialButtons.classList.remove('hidden');
        modalTitle.textContent = translations[currentLang].modal_title_login;
      });

      // Theme
      function setTema(isLight) {
        document.body.classList.toggle('light-mode', isLight);
        document.getElementById('sunIcon').classList.toggle('hidden', !isLight);
        document.getElementById('moonIcon').classList.toggle('hidden', isLight);
        esModoLuminoso = isLight;
        localStorage.setItem('theme', isLight ? 'light' : 'dark');
        sendStateToIframe();
      }
      document.getElementById('themeToggleBtn').addEventListener('click', () => setTema(!esModoLuminoso));
      setTema(esModoLuminoso);

      // Language
      document.getElementById('langToggleBtn').addEventListener('click', () => {
        currentLang = currentLang === 'es' ? 'en' : 'es';
        localStorage.setItem('lang', currentLang);
        applyTranslations();
        sendStateToIframe();
      });

      applyTranslations();
    });
  </script>
</body>
</html>